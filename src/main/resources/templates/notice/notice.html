<!doctype html>
                       
<html xmlns:th="http://www.thymeleaf.org">
                           
<head>     
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>공지사항</title>
    <link href='https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css' rel='stylesheet'>
 	<div sec:authorize="hasRole('ROLE_CENTER')"  th:replace="/common/centerHeader.html :: center-header"></div>
 	<div sec:authorize="hasRole('ROLE_MEMBER')" th:replace="/common/memberHeader.html :: member-header"></div>
 	<div sec:authorize="hasRole('ROLE_TRAINER')" th:replace="/common/trnHeader.html :: trn-header"></div>
    <link rel="stylesheet" type="text/css" th:href="@{/css/notice/notice.css}"/>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    </head>     
   
  <body id="body-pd" class='snippet-body '  style="min-height:80vh">
  
 <div sec:authorize="hasRole('ROLE_CENTER')" th:replace="/common/centerHeader.html :: center-body"></div>
  <div sec:authorize="hasRole('ROLE_MEMBER')" th:replace="/common/memberHeader.html :: member-body"></div>
  <div sec:authorize="hasRole('ROLE_TRAINER')"th:replace="/common/trnHeader.html :: trn-body"></div>
  
  <div class="container mt-5">
<div class="d-flex justify-content-center row">
<div class="col-md-10">
<div class="rounded">
<div class="table-responsive table-borderless">
 <div class="titlename rounded">
    <h2 class="titlename1">공지사항</h2>
 </div>
 <!-- 공지사항 검색 -->
 <form >
  <div class="row search">
      <div class="col-md-12" >
      	<select name="searchType" class="form-select" style="height: 32px;" aria-label="Default select example" required>
          <option selected>검색 키워드</option>
          <option value="t" th:selected="${not #lists.isEmpty(param.searchType)} and ${param.searchType[0]} == 't'">제목</option>
          <option value="c" th:selected="${not #lists.isEmpty(param.searchType)} and ${param.searchType[0]} == 'c'">내용</option>
          <option value="tc" th:selected="${not #lists.isEmpty(param.searchType)} and ${param.searchType[0]} == 'tc'">제목+내용</option>
        </select>
          <div  class="input-group mb-3" >
           <input type="text" name="keyword" id="keywordInput" value="${}" class="form-control input-text" placeholder="검색" >
              <div class="search_btn input-group-append"> <button class="btn btn-sm"  id="searchBtn" type="button" style="height: 32px;"><i class="bx bx-search"></i></button> </div>
          </div>
		    <script th:inline="javascript">
		      $(function(){
		        $('#searchBtn').click(function() {
		          self.location = "list" + '${pageMaker.makeQuery(1)}' + "&searchType=" + $("select option:selected").val() + "&keyword=" + encodeURIComponent($('#keywordInput').val());
		        });
		      });   
		    </script>
      </div>
  </div>
 <!-- 공지사항 목록 -->
<table class="table">
<thead>
<tr>
  <th class="text-center">번호</th>
  <th>제목</th>
  <th>조회수</th>
  <th>작성일</th>
</tr> 
</thead>
<tbody class="table-body" >
<tr class="cell-1" th:if="${not #lists.isEmpty( noticeList )}" th:each="list : ${noticeList}"  >
  <td class="text-center"th:text="${list.noticeNo}"></td>
 <td class="col-md-auto title" id="title"><a th:href="@{/detail(infoNo=${list.infoNo},page=${cri.perPageNum},searchType=${cri.searchType},keyword=${cri.keyword}) }" th:text="${list.title}"></a></td>
  <td th:text="${list.noticeView}"></td>
  <td th:text="${#dates.format(list.noticeDate,'yyyy-MM-dd')}"></td>
</tr>
<tr class="cell-1" th:unless="${not #lists.isEmpty( noticeList )}">
  <td colspan="4"> 조회된 결과가 없습니다. </td>
</tr>

</tbody>
</table>
<button sec:authorize="hasRole('ROLE_CENTER')" th:onclick="'location.href=\''+@{/notice/noticeregist} + '\''" type="button" class="btn btn-outline-secondary">글작성</button>
 <!-- 공지사항 페이징 -->
<nav>
  <ul class="pagination flex-wrap d-flex justify-content-center">
      <li class="page-item" > <a class="page-link" ><i class="bx bxs-chevron-left"></i></a></li>
      <li class="page-item" > <a class="page-link" ></a></li>
      <li class="page-item" > <i class='bx bxs-chevron-right'></i></a></li>
  </ul>
</nav>
</form>
</div>
</div>
</div>
</div>
</div>
</body>
</html> 